# Data Model: Bronze Tier Foundation

**Phase**: 1 — Design & Contracts
**Date**: 2026-02-11
**Feature**: 001-bronze-tier-foundation

## Entities

### Inbox File

A raw file dropped by the user into `watch_inbox/` as a trigger.

| Attribute | Type | Description |
| --------- | ---- | ----------- |
| filename | string | Name of the file (e.g., `test-task.txt`) |
| extension | enum | `.txt` or `.md` — only these are processed |
| content | text | Free-form text content of the file |
| drop_time | datetime | Filesystem modified time when file appeared |

**Lifecycle**: Created by human → Detected by watcher → Remains in `watch_inbox/` (watcher never moves it)

---

### Task File

A structured Markdown file in `Needs_Action/` with YAML frontmatter and the original file's content.

| Attribute | Type | Constraints | Description |
| --------- | ---- | ----------- | ----------- |
| type | string | `file_drop` | How the task was triggered |
| created | ISO-8601 datetime | Required | When the task file was created |
| status | enum | `pending` &#124; `in_progress` &#124; `done` | Current processing state |
| priority | enum | `low` &#124; `medium` &#124; `high` &#124; `urgent` | Task urgency (default: `medium`) |
| source | string | Relative path | Full path to trigger file (e.g., `watch_inbox/test-task.txt`) |
| original_file | string | Filename only | Name of the original dropped file |
| body | text | From original file | Content copied from the inbox file |

**Naming**: `TASK_<original-name-without-ext>_<YYYYMMDD_HHMMSS>.md`

**Lifecycle**: Created by watcher → Processed by Claude → Moved to `Done/` by human

**State Transitions**:
```
pending → in_progress → done
```

---

### Plan File

A structured Markdown file in `Plans/` generated by Claude following `planning_skills.md`.

| Attribute | Type | Constraints | Description |
| --------- | ---- | ----------- | ----------- |
| objective | string | One sentence | Restated task objective |
| status | enum | `pending` &#124; `in_progress` &#124; `complete` | Plan completion state |
| steps | list of strings | Checkbox format | Ordered action items |

**Naming**: `Plan_<original-name>.md`

**Format**:
```markdown
---
objective: [one sentence restating the task]
status: complete
---
## Steps
- [ ] Step one
- [ ] Step two
```

**Lifecycle**: Created by Claude prompt → Reviewed by human → Steps completed manually

---

### Agent Skill

A Markdown file in `agent_skills/` containing behavior instructions for Claude.

| Attribute | Type | Description |
| --------- | ---- | ----------- |
| skill_name | string | Name of the skill (e.g., "Planning Skill") |
| tier | string | Which tier this skill belongs to (Bronze) |
| instructions | text | Markdown-formatted behavior description |
| format_spec | text | Expected output format with example |

**Files in Bronze**: `planning_skills.md`, `process_tasks_prompt.md`

---

## Relationships

```
Inbox File  ──(detected by)──▶  Watcher  ──(creates)──▶  Task File
                                                              │
                                                    (processed by Claude)
                                                              │
                                                              ▼
                                                         Plan File
```

- One Inbox File produces exactly one Task File
- One Task File produces exactly one Plan File
- Agent Skills are referenced (read) during Plan File creation
- Watcher never modifies Inbox Files or Task Files after creation
